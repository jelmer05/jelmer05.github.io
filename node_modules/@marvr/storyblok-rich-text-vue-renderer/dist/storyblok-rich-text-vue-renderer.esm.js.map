{"version":3,"file":"storyblok-rich-text-vue-renderer.esm.js","sources":["../src/components/blocks/Document.vue","../../../node_modules/vue-runtime-helpers/dist/normalize-component.mjs","../src/components/blocks/Heading.vue","../src/components/blocks/Paragraph.vue","../src/components/blocks/Quote.vue","../src/components/blocks/OrderedList.vue","../src/components/blocks/UnorderedList.vue","../src/components/blocks/ListItem.vue","../src/components/blocks/CodeBlock.vue","../src/components/blocks/HorizontalRule.vue","../src/components/blocks/Break.vue","../src/components/blocks/Image.vue","../src/resolver/block.ts","../src/components/marks/Bold.vue","../src/components/marks/Strong.vue","../src/components/marks/Strike.vue","../src/components/marks/Underline.vue","../src/components/marks/Italic.vue","../src/components/marks/Code.vue","../src/components/marks/Link.vue","../src/components/marks/Styled.vue","../src/resolver/mark.ts","../src/components/ComponentFallback.vue","../src/resolver/component.ts","../src/utils.ts","../src/composables/useRenderer.ts","../src/components/RichTextRenderer.vue","../src/index.ts"],"sourcesContent":["<template>\r\n  <div><slot /></div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbDocument',\r\n});\r\n</script>\r\n","function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nexport default normalizeComponent;\n//# sourceMappingURL=normalize-component.mjs.map\n","<template>\r\n  <component :is=\"tag\">\r\n    <slot />\r\n  </component>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref } from '@vue/composition-api';\r\nimport { HeadingAttributes } from '@marvr/storyblok-rich-text-types';\r\n\r\nexport default defineComponent({\r\n  name: 'SbHeading',\r\n  props: {\r\n    attrs: {\r\n      type: Object as () => HeadingAttributes,\r\n      required: true,\r\n    },\r\n  },\r\n  setup({ attrs: { level } }) {\r\n    const tag = ref(`h${level}`);\r\n\r\n    return {\r\n      tag,\r\n    };\r\n  },\r\n});\r\n</script>\r\n","<template>\r\n  <p><slot /></p>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbParagraph',\r\n});\r\n</script>\r\n","<template>\r\n  <blockquote><slot /></blockquote>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbQuote',\r\n});\r\n</script>\r\n","<template>\r\n  <ol>\r\n    <slot />\r\n  </ol>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbOrderedList',\r\n});\r\n</script>\r\n","<template>\r\n  <ul>\r\n    <slot />\r\n  </ul>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbUnorderedList',\r\n});\r\n</script>\r\n","<template>\r\n  <li><slot /></li>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbListItem',\r\n});\r\n</script>\r\n","<template>\r\n  <pre :class=\"elementClass\">\r\n    <code>\r\n      <slot />\r\n    </code>\r\n  </pre>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref } from '@vue/composition-api';\r\nimport { CodeAttributes } from '@marvr/storyblok-rich-text-types';\r\n\r\nexport default defineComponent({\r\n  name: 'SbCodeBlock',\r\n  props: {\r\n    attrs: {\r\n      type: Object as () => CodeAttributes,\r\n      required: true,\r\n    },\r\n  },\r\n  setup({ attrs }) {\r\n    const elementClass = ref(attrs.class);\r\n\r\n    return {\r\n      elementClass,\r\n    };\r\n  },\r\n});\r\n</script>\r\n","<template>\r\n  <hr />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbHorizontalRule',\r\n});\r\n</script>\r\n","<template>\r\n  <br />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbBreak',\r\n});\r\n</script>\r\n","<template>\r\n  <img :src=\"src\" :alt=\"alt\" :title=\"title\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref } from '@vue/composition-api';\r\nimport { ImageAttributes } from '@marvr/storyblok-rich-text-types';\r\n\r\nexport default defineComponent({\r\n  name: 'SbImage',\r\n  props: {\r\n    attrs: {\r\n      type: Object as () => ImageAttributes,\r\n      required: true,\r\n    },\r\n  },\r\n  setup({ attrs }) {\r\n    const src = ref(attrs.src);\r\n    const alt = ref(attrs.alt);\r\n    const title = ref(attrs.title);\r\n\r\n    return {\r\n      src,\r\n      alt,\r\n      title,\r\n    };\r\n  },\r\n});\r\n</script>\r\n","import Vue from 'vue';\r\nimport { Block } from '@marvr/storyblok-rich-text-types';\r\nimport {\r\n  SbDocument,\r\n  SbHeading,\r\n  SbParagraph,\r\n  SbQuote,\r\n  SbOrderedList,\r\n  SbUnorderedList,\r\n  SbListItem,\r\n  SbCodeBlock,\r\n  SbHorizontalRule,\r\n  SbBreak,\r\n  SbImage,\r\n} from '../components/blocks';\r\n\r\nexport type BlockResolvers = {\r\n  [key in Block]: typeof Vue;\r\n};\r\n\r\nexport const defaultBlockResolvers: BlockResolvers = {\r\n  [Block.DOCUMENT]: SbDocument,\r\n  [Block.HEADING]: SbHeading,\r\n  [Block.PARAGRAPH]: SbParagraph,\r\n  [Block.QUOTE]: SbQuote,\r\n  [Block.OL_LIST]: SbOrderedList,\r\n  [Block.UL_LIST]: SbUnorderedList,\r\n  [Block.LIST_ITEM]: SbListItem,\r\n  [Block.CODE]: SbCodeBlock,\r\n  [Block.HR]: SbHorizontalRule,\r\n  [Block.BR]: SbBreak,\r\n  [Block.IMAGE]: SbImage,\r\n};\r\n","<template>\r\n  <b><slot /></b>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbBold',\r\n});\r\n</script>\r\n","<template>\r\n  <strong><slot /></strong>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbStrong',\r\n});\r\n</script>\r\n","<template>\r\n  <s><slot /></s>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbStrike',\r\n});\r\n</script>\r\n","<template>\r\n  <u><slot /></u>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbUnderline',\r\n});\r\n</script>\r\n","<template>\r\n  <i><slot /></i>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbItalic',\r\n});\r\n</script>\r\n","<template>\r\n  <code><slot /></code>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\n\r\nexport default defineComponent({\r\n  name: 'SbCode',\r\n});\r\n</script>\r\n","<template>\n  <router-link v-if=\"linkType === 'story'\" :target=\"target\" :to=\"href\">\n    <slot />\n  </router-link>\n  <a v-else-if=\"linkType === 'email'\" :href=\"`mailto:${href}`\"><slot /></a>\n  <a v-else :href=\"href\" :target=\"target\"><slot /></a>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from '@vue/composition-api';\nimport { LinkAttributes } from '@marvr/storyblok-rich-text-types';\n\nexport default defineComponent({\n  name: 'SbLink',\n  props: {\n    attrs: {\n      type: Object as () => LinkAttributes,\n      required: true,\n    },\n  },\n  setup({ attrs }) {\n    const linkType = ref(attrs.linktype);\n    const href = ref(attrs.href);\n    const target = ref(attrs.target);\n\n    return {\n      linkType,\n      href,\n      target,\n    };\n  },\n});\n</script>\n","<template>\r\n  <span :class=\"elementClass\"><slot /></span>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref } from '@vue/composition-api';\r\nimport { StyledAttributes } from '@marvr/storyblok-rich-text-types';\r\n\r\nexport default defineComponent({\r\n  name: 'SbStyled',\r\n  props: {\r\n    attrs: {\r\n      type: Object as () => StyledAttributes,\r\n      required: true,\r\n    },\r\n  },\r\n  setup({ attrs }) {\r\n    const elementClass = ref(attrs.class);\r\n\r\n    return {\r\n      elementClass,\r\n    };\r\n  },\r\n});\r\n</script>\r\n","import Vue from 'vue';\r\nimport { Mark } from '@marvr/storyblok-rich-text-types';\r\nimport {\r\n  SbBold,\r\n  SbStrong,\r\n  SbStrike,\r\n  SbUnderline,\r\n  SbItalic,\r\n  SbCode,\r\n  SbLink,\r\n  SbStyled,\r\n} from '../components/marks';\r\n\r\nexport type MarkResolvers = {\r\n  [key in Mark]: typeof Vue;\r\n};\r\n\r\nexport const defaultMarkResolvers: MarkResolvers = {\r\n  [Mark.BOLD]: SbBold,\r\n  [Mark.STRONG]: SbStrong,\r\n  [Mark.STRIKE]: SbStrike,\r\n  [Mark.UNDERLINE]: SbUnderline,\r\n  [Mark.ITALIC]: SbItalic,\r\n  [Mark.CODE]: SbCode,\r\n  [Mark.LINK]: SbLink,\r\n  [Mark.STYLED]: SbStyled,\r\n};\r\n","<template>\r\n  <div>\r\n    No rendering definition for component\r\n    <strong>{{ componentName }}</strong> found.\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref } from '@vue/composition-api';\r\nimport { ComponentBody } from '@marvr/storyblok-rich-text-types';\r\n\r\nexport default defineComponent({\r\n  name: 'SbComponentFallback',\r\n  props: {\r\n    body: {\r\n      type: Object as () => ComponentBody,\r\n      required: true,\r\n    },\r\n  },\r\n  setup({ body: { component } }) {\r\n    const componentName = ref(component);\r\n\r\n    return {\r\n      componentName,\r\n    };\r\n  },\r\n});\r\n</script>\r\n","import Vue from 'vue';\r\nimport SbComponentFallback from '../components/ComponentFallback.vue';\r\n\r\nexport interface ComponentResolvers {\r\n  _fallback: typeof Vue;\r\n  // @TODO: Don't allow `undefined` - any idea?\r\n  [key: string]: typeof Vue | undefined;\r\n}\r\n\r\nexport const defaultComponentResolvers: ComponentResolvers = {\r\n  _fallback: SbComponentFallback,\r\n};\r\n","import {\r\n  Node,\r\n  Block,\r\n  BlockNode,\r\n  BlockNodeWithContent,\r\n  TextNode,\r\n  TextType,\r\n  ComponentNode,\r\n  ComponentType,\r\n} from '@marvr/storyblok-rich-text-types';\r\n\r\nfunction createEnumChecker<T extends string, TEnumValue extends string>(\r\n  enumVariable: { [key in T]: TEnumValue },\r\n) {\r\n  const enumValues = Object.values(enumVariable);\r\n  return (value: string): value is TEnumValue => enumValues.includes(value);\r\n}\r\n\r\nconst isBlock = createEnumChecker(Block);\r\n\r\nexport function isBlockNode(node: Node): node is BlockNode {\r\n  return isBlock(node.type);\r\n}\r\n\r\nexport function isTextNode(node: Node): node is TextNode {\r\n  return node.type === TextType;\r\n}\r\n\r\nexport function isBlockNodeWithContent(\r\n  node: BlockNode,\r\n): node is BlockNodeWithContent {\r\n  return 'content' in node;\r\n}\r\n\r\nexport function isComponentNode(node: Node): node is ComponentNode {\r\n  return node.type === ComponentType;\r\n}\r\n","import Vue, { VNode } from 'vue';\nimport { h } from '@vue/composition-api';\nimport {\n  Node,\n  Block,\n  BlockNode,\n  Mark,\n  MarkNode,\n  ComponentNode,\n} from '@marvr/storyblok-rich-text-types';\nimport {\n  defaultBlockResolvers,\n  defaultMarkResolvers,\n  defaultComponentResolvers,\n  Resolvers,\n} from '../resolver';\nimport {\n  isBlockNode,\n  isBlockNodeWithContent,\n  isTextNode,\n  isComponentNode,\n} from '../utils';\nimport { Options } from '..';\n\nexport function useRenderer(options: Options = {}) {\n  const resolvers: Resolvers = {\n    blockResolvers: {\n      ...defaultBlockResolvers,\n      ...options?.resolvers?.blocks,\n    },\n    markResolvers: {\n      ...defaultMarkResolvers,\n      ...options?.resolvers?.marks,\n    },\n    componentResolvers: {\n      ...defaultComponentResolvers,\n      ...options?.resolvers?.components,\n    },\n  };\n\n  function addKeyToNode(node: VNode, key: number) {\n    if (!node.key) {\n      node.key = key;\n    }\n\n    return node;\n  }\n\n  function renderBlockNode(node: BlockNode) {\n    const { blockResolvers } = resolvers;\n    const resolver = blockResolvers[node.type as Block];\n    const attrs = node.attrs || {};\n\n    if (isBlockNodeWithContent(node)) {\n      const children = node.content ? renderNodeList(node.content) : [];\n      return h(resolver, { props: { attrs } }, children);\n    } else {\n      return h(resolver, { props: { attrs } });\n    }\n  }\n\n  function renderComponentNode(node: ComponentNode) {\n    const { componentResolvers } = resolvers;\n    const components: VNode[] = [];\n\n    node.attrs.body.forEach((body) => {\n      const { component } = body;\n      const resolver =\n        componentResolvers[component] || componentResolvers._fallback;\n\n      components.push(h(resolver, { props: { body } }));\n    });\n\n    return components;\n  }\n\n  function renderTextNode(text: string): VNode {\n    return Vue.prototype._v(text);\n  }\n\n  function renderMarkNode(text: VNode, node: MarkNode) {\n    const { markResolvers } = resolvers;\n    const resolver = markResolvers[node.type as Mark];\n    const attrs = node.attrs || {};\n\n    return h(resolver, { props: { attrs } }, [text]);\n  }\n\n  function renderNode(node: Node) {\n    if (isTextNode(node)) {\n      if (!node.marks) {\n        return renderTextNode(node.text);\n      }\n\n      return node.marks.reduce((value: VNode, mark: MarkNode) => {\n        return renderMarkNode(value, mark);\n      }, renderTextNode(node.text));\n    } else if (isBlockNode(node)) {\n      return renderBlockNode(node);\n    } else if (isComponentNode(node)) {\n      return renderComponentNode(node);\n    }\n\n    return renderTextNode('');\n  }\n\n  function renderNodeList(nodes: Node[]) {\n    const nodeList: VNode[] = [];\n\n    nodes.forEach((node, index) => {\n      const renderedNode = renderNode(node);\n\n      if (renderedNode instanceof Array) {\n        renderedNode.forEach((childNode, childIndex) => {\n          nodeList.push(addKeyToNode(childNode, index + childIndex));\n        });\n      } else {\n        nodeList.push(addKeyToNode(renderedNode, index));\n      }\n    });\n\n    return nodeList;\n  }\n\n  function renderDocument(richTextDocument: Node | Node[]) {\n    if (Array.isArray(richTextDocument)) {\n      return renderNodeList(richTextDocument);\n    }\n\n    return renderNode(richTextDocument);\n  }\n\n  return {\n    renderDocument,\n  };\n}\n","<script lang=\"ts\">\r\nimport Vue from 'vue';\r\nimport { useRenderer } from '../composables/useRenderer';\r\nimport { Node } from '@marvr/storyblok-rich-text-types';\r\nimport { Options } from '..';\r\n\r\nexport default Vue.extend({\r\n  functional: true,\r\n  props: {\r\n    document: {\r\n      type: [Object as () => Node, Array as () => Node[]],\r\n      required: true,\r\n    },\r\n    options: {\r\n      type: Object as () => Options,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  render(h, { props }) {\r\n    const options = {\r\n      ...Vue.prototype.$richTextRenderer,\r\n      ...props.options,\r\n    };\r\n\r\n    const { renderDocument } = useRenderer(options);\r\n    return renderDocument(props.document);\r\n  },\r\n});\r\n</script>\r\n","import { PluginObject } from 'vue';\r\nimport RichTextRenderer from './components/RichTextRenderer.vue';\r\nimport { BlockResolvers, MarkResolvers, ComponentResolvers } from './resolver';\r\n\r\nexport interface ResolverOptions {\r\n  blocks?: Partial<BlockResolvers>;\r\n  marks?: Partial<MarkResolvers>;\r\n  components?: Partial<ComponentResolvers>;\r\n}\r\n\r\nexport interface Options {\r\n  componentName?: string;\r\n  resolvers?: ResolverOptions;\r\n}\r\n\r\nconst plugin: PluginObject<Options> = {\r\n  install(Vue, options: Options = {}) {\r\n    Vue.prototype.$richTextRenderer = options;\r\n\r\n    Vue.component(\r\n      options.componentName || 'RichTextRenderer',\r\n      RichTextRenderer,\r\n    );\r\n  },\r\n};\r\n\r\nexport { RichTextRenderer };\r\nexport default plugin;\r\n"],"names":["SbDocument","SbHeading","SbParagraph","SbQuote","SbOrderedList","SbUnorderedList","SbListItem","SbCodeBlock","SbHorizontalRule","SbBreak","SbImage","SbBold","SbStrong","SbStrike","SbUnderline","SbItalic","SbCode","SbLink","SbStyled","SbComponentFallback","RichTextRenderer"],"mappings":"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"}